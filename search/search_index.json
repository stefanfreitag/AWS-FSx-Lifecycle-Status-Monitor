{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>This AWS CDK construct monitors the health of Amazon FSx file systems in an AWS account by configuring notifications on file system status changes. It helps to quickly detect and take action if your file systems aren\u2019t healthy.</p> <p>The implementation is based on this post in the AWS Storage Blog.</p>"},{"location":"architecture/","title":"Architecture","text":"<p>The Amazon FSx Health Monitor is a serverless application that uses AWS Lambda, Amazon CloudWatch Events, and Amazon SNS to monitor the health of Amazon FSx windows file systems in an AWS account. The application consists of the following components:</p> <ul> <li> <p>Amazon CloudWatch Events rule   This rule is backed by a configurable schedule. Based on the schedule the Lambda   function is triggered.</p> </li> <li> <p>AWS Lambda function   This function is invoked by the CloudWatch Events rule and checks all FSx   volumes in the linked AWS account for their status. If the status is not <code>AVAILABLE</code> (see here) it publishes a message to the   Amazon SNS topic.</p> </li> <li> <p>Amazon SNS topic   This topic receives notifications from the Lambda function. Users can subscribe   to this topic to receive notifications about the health of the FSx file systems.</p> </li> </ul>"},{"location":"architecture/#fsx-file-system-status","title":"FSx file system status","text":"File system status Description AVAILABLE The file system is in a healthy state, and is reachable and available for use. CREATING Amazon FSx is creating a new file system. DELETING Amazon FSx is deleting an existing file system. UPDATING The file system is undergoing a customer-initiated update. MISCONFIGURED The file system is in an impaired state due to a change in your Active Directory environment. Your file system is either currently unavailable or at risk of losing availability, and backups may not succeed. MISCONFIGURED_UNAVAILABLE The file system is currently unavailable due to a change in your Active Directory environment. FAILED The file system has failed and Amazon FSx can't recover it.When creating a new file system, Amazon FSx was unable to create the new file system."},{"location":"links/","title":"Links","text":""},{"location":"links/#used-aws-services","title":"Used AWS services","text":"<ul> <li>AWS CDK   Homepage of AWS CDK </li> <li>Amazon CloudWatch Events   Homepage of AWS CloudWatch</li> <li>Amazon FSx for Windows File Server   Homepage of Amazon FSx for Windows File Server</li> <li>AWS Lambda   Homepage of AWS Lambda</li> <li>Amazon SNS   Homepage of AWS SNS</li> </ul>"},{"location":"links/#other-links","title":"Other links","text":"<ul> <li>Amazon FSx file system status   Details about the different file system status</li> <li>Monitoring the health of Amazon FSx file systems using Amazon EventBridge and AWS Lambda    Original blog post about the solution</li> </ul>"},{"location":"usage/","title":"Usage","text":"<ul> <li> <p>Add the library as dependency to your project. For example</p> package.json<pre><code>\"dependencies\": {\n  \"aws_fsx_lifecycle_status_monitor\": \"0.0.4\",\n  ...\n},\n</code></pre> </li> </ul> <p>and install it with <code>npm install</code> or <code>yarn install</code>.</p> <ul> <li> <p>Create a new stack and add the CDK construct</p> fsx-monitor-stack.ts<pre><code>export class FsxMonitor extends Stack {\n\n  constructor(scope: Construct, id: string, props: StackProps = {}) {\n\n    super(scope, id, props);\n\n    new FsxLifecycleStatusMonitor(this, 'FSxLifecycleStatusMonitor', {\n      schedule: Schedule.cron({ minute: '0/30', hour: '*', day: '*', month: '*', year: '*' }),\n    });\n\n  }\n}\n</code></pre> </li> </ul>"}]}